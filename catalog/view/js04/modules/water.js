const Water=function(){var e=document.createElement("canvas");if(homePage)var t=document.querySelector(".home-overview .bg-cover");else t=document.querySelector(".about-overview .bg-cover");e.className="water",t.appendChild(e);var r,i,n,a,o=e.getContext("webgl"),c=new Image;function s(){var e=t.dataset.bg;c.src=e,c.crossOrigin="Anonymous",c.onload=function(){var e=o.createTexture();o.pixelStorei(o.UNPACK_FLIP_Y_WEBGL,!0),o.bindTexture(o.TEXTURE_2D,e),o.texImage2D(o.TEXTURE_2D,0,o.RGBA,o.RGBA,o.UNSIGNED_BYTE,c),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,o.NEAREST),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_S,o.CLAMP_TO_EDGE),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_WRAP_T,o.CLAMP_TO_EDGE),o.activeTexture(o.TEXTURE1)},this.resize(),window.addEventListener("resize",this.resize,!1)}return s.prototype.resize=function(){var t=e.width=window.innerWidth,r=e.height=.7*window.innerWidth;e.style.width=t+"px",e.style.height=r+"px";var i=Math.min(e.width/c.width,e.height/c.height);e.width,c.width,e.height,c.height},s.prototype.shader=function(e,t){var r=o.createShader(t);o.shaderSource(r,e),o.compileShader(r),o.attachShader(i,r)},s.prototype.render=function(t){i=o.createProgram(),this.shader("\n attribute vec2 c;\n void main(void){\n gl_Position=vec4(c,0.,1.);\n}",o.VERTEX_SHADER),this.shader("\n precision lowp float;\n uniform vec2 size;\n uniform float time; \n uniform sampler2D tex;\n void main(){\n vec2 uv = gl_FragCoord.xy / size.xy;\n vec2 p = uv;\n float s = 0.0;\n for (int i = 0; i < 100; i++) {\n\t vec2 adjc = p;\n\t float theta = 2.0 * 0.456 / 33.*float(i);\n\t adjc.x += cos(theta)*time*0.1 + time * 0.015;\n\t adjc.y -= sin(theta)*time*0.033 - time * 0.00123;\n\t s += cos((adjc.x*cos(theta) - adjc.y*sin(theta)) * 190.0) * 0.07;\n}\n p += sin(s) * 0.002;\n vec2 c = uv - 0.9;\n gl_FragColor = texture2D(tex, p);\n}",o.FRAGMENT_SHADER),o.linkProgram(i),o.useProgram(i),o.bindBuffer(o.ARRAY_BUFFER,o.createBuffer()),o.bufferData(o.ARRAY_BUFFER,new Float32Array([-1,3,-1,-1,3,-1]),o.STATIC_DRAW),a=o.getAttribLocation(i,"c"),o.vertexAttribPointer(a,2,o.FLOAT,!1,0,0),o.enableVertexAttribArray(a),timeLocation=o.getUniformLocation(i,"time"),n=o.getUniformLocation(i,"size"),o.uniform2f(n,o.drawingBufferWidth,o.drawingBufferHeight),o.viewport(0,0,o.drawingBufferWidth,o.drawingBufferHeight),o.clearColor(0,0,0,0),o.uniform1f(timeLocation,t/6e3),o.drawArrays(o.TRIANGLES,0,3),e.classList.add("show"),r=window.requestAnimationFrame(this.render.bind(this))},s.prototype.Play=function(){r||this.render(0)},s.prototype.Pause=function(){r&&(window.cancelAnimationFrame(r),r=void 0,e.classList.remove("show"))},s}();var Gowater=new Water;Gowater.Pause();