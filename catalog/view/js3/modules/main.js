const scrollStay=function t(e){var i=function(t){this.DOM={el:null,inner:null,imgInner:null,content:null,contentImg:null,contentText:null},this.DOM.el=t,this.DOM.inner=this.DOM.el.querySelector(".slide-inner"),this.DOM.imgInner=this.DOM.el.querySelector(".bg-inner"),this.DOM.content=this.DOM.el.querySelector(".content-main")},n={slides:Array.from(document.querySelectorAll(".group-central")).slice(),navigationItems:document.querySelectorAll(".box-nav-button")},r=n.slides.length,o=[],s=-1,a=!1;n.slides.forEach((function(t){o.push(new i(t))})),n.navigationItems.forEach((function(t,e){t.setAttribute("data-index",e)})),t.prototype.setCurrentSlide=function(t){boxSlider.classList.add("desktop-slide"),-1!==s&&o[s].DOM.el.classList.remove("show-text"),o[s=t].DOM.el.classList.add("show-text"),n.navigationItems[s].classList.add("current"),1==First&&this.Detect(s)},this.setCurrentSlide(e),t.prototype.nextSlide=function(){var t=s<r-1?s+1:0;this.navigate(t)},t.prototype.prevSlide=function(){var t=s>0?s-1:r-1;this.navigate(t)},t.prototype.navigate=function(t){var e=this;a=!0,n.navigationItems[s].classList.remove("current"),n.navigationItems[t].classList.add("current");var i=s<t?0===s&&t===r-1?"prev":"next":s===r-1&&0===t?"next":"prev",l=o[s],h=o[s=t];gsap.timeline({defaults:{duration:1.4,ease:"power3.inOut"},onComplete:function(){l.DOM.el.classList.remove("show-text","css-play"),a=!1,e.applySlide(s)}}).addLabel("start",0).add((function(){h.DOM.el.classList.add("show-text")}),"start").set([l.DOM.imgInner,h.DOM.imgInner],{transformOrigin:"next"===i?"50% 0%":"50% 100%"},"start").set(h.DOM.el,{yPercent:"next"===i?100:-100},"start").set(h.DOM.inner,{yPercent:"next"===i?-100:100},"start").to(l.DOM.el,{yPercent:"next"===i?-100:100},"start").to([h.DOM.el,h.DOM.inner],{yPercent:0},"start").to(h.DOM.imgInner,{ease:"power2.inOut",startAt:{scale:1.1},scale:1},"start"),e.Detect(s),e.resetSlide(s)},t.prototype.initEvents=function(){var t=this;Array.from(n.navigationItems).slice().forEach((function(e,i){e.addEventListener("click",(function(){s===i||a||t.navigate(i)}))})),boxSlider.addEventListener("swipeup",(function(e){if(!(Mobile.matches||Body.classList.contains("fullscreen")||Body.classList.contains("no-scroll")||1==r))return r>2&&document.querySelector(".group-central:last-child").classList.contains("show-text")?void 0:!a&&t.nextSlide()}),{passive:!1}),boxSlider.addEventListener("swipedown",(function(e){if(!(Mobile.matches||Body.classList.contains("fullscreen")||Body.classList.contains("no-scroll")||1==r))return r>2&&document.querySelector(".group-central:first-child").classList.contains("show-text")?void 0:!a&&t.prevSlide()}),{passive:!1}),document.addEventListener("wheel",(function(e){if(!(Mobile.matches||Body.classList.contains("fullscreen")||Body.classList.contains("no-scroll")||1==r||document.querySelector(".group-central .over"))){var i=Math.max(-1,Math.min(1,e.wheelDelta||-e.deltaY||-e.detail));if(!(r>2))return-1===i?!a&&t.prevSlide():!a&&t.nextSlide();if(-1===i){if(!document.querySelector(".group-central:last-child").classList.contains("show-text"))return!a&&t.nextSlide()}else if(1===i&&!document.querySelector(".group-central:first-child").classList.contains("show-text"))return!a&&t.prevSlide()}}),{passive:!1}),window.addEventListener("keydown",(function(e){if(!(Mobile.matches||Body.classList.contains("fullscreen")||Body.classList.contains("no-scroll")||1==r)){var i=e.keyCode||e.which;if(38==i){if(e.preventDefault(),!(r>2))return!a&&t.prevSlide();if(!document.querySelector(".group-central:first-child").classList.contains("show-text"))return!a&&t.prevSlide()}if(40==i){if(e.preventDefault(),!(r>2))return!a&&t.nextSlide();if(!document.querySelector(".group-central:last-child").classList.contains("show-text"))return!a&&t.nextSlide()}}})),goDown.addEventListener("click",(function(t){return boxNav.querySelector(".box-nav-button.current").nextElementSibling.click(),!1})),goTop.addEventListener("click",(function(t){return n.navigationItems[0].click(),!1}))},this.initEvents()},Waves=function(){var t,e,i,n=1e3/60,r=0,o=performance.now();function s(){var t=this,e=document.querySelector("#gl_wave");if(this.DOM={el:e},this.gl=this.DOM.el.getContext("webgl")||this.DOM.el.getContext("experimental-webgl"),this.gl){var i=this.gl.createShader(this.gl.VERTEX_SHADER),n=this.gl.createShader(this.gl.FRAGMENT_SHADER);return this.DOM.el.alpha=!0,this.DOM.el.stencil=!1,this.DOM.el.antialias=!0,this.DOM.el.depth=!1,this.gl.shaderSource(i,"\n precision mediump float;\n attribute vec2 aPosition;\n uniform vec3 uHSV;\n uniform vec2 uResolution;\n varying vec4 vColor;\nvec3 hsv2rgb(vec3 c) {\n  vec4 K = vec4(1.0, 2.0 / 3.0, 1.0 / 3.0, 3.0);\n  vec3 p = abs(fract(c.xxx + K.xyz) * 6.0 - K.www);\n  return c.z * mix(K.xxx, clamp(p - K.xxx, 0.0, 0.1), c.y);\n}\n void main() {\n  gl_PointSize = 1.0;\n  gl_Position = vec4(\n\t  ( aPosition.x / uResolution.x * 2.0) - 1.0, \n\t  (-aPosition.y / uResolution.y * 1.2) + 1.0, \n\t  0.0,\n\t  1.0\n  );\n  vColor = vec4(hsv2rgb(uHSV), 0.1);}"),this.gl.compileShader(i),this.gl.shaderSource(n,"\n precision mediump float;\n varying vec4 vColor;\n void main() {\n\tgl_FragColor = vColor;}"),this.gl.compileShader(n),this.program=this.gl.createProgram(),this.gl.attachShader(this.program,i),this.gl.attachShader(this.program,n),this.gl.linkProgram(this.program),this.gl.useProgram(this.program),this.aPosition=this.gl.getAttribLocation(this.program,"aPosition"),this.gl.enableVertexAttribArray(this.aPosition),this.positionBuffer=this.gl.createBuffer(),this.uHSV=this.gl.getUniformLocation(this.program,"uHSV"),this.gl.enableVertexAttribArray(this.uHSV),this.startTime=o,this.resize(),this.blend(1,1),this.createBufferLine(100),this.render(this.startTime),playCanvas.addEventListener("click",(function(){t.Play()})),pauseCanvas.addEventListener("click",(function(){t.Pause()})),window.addEventListener("resize",(function(){t.resize()}),!1),this}}s.prototype.resize=function(){var t=window.innerHeight<=window.innerWidth;this.width=this.DOM.el.width=this.DOM.el.offsetWidth,this.height=this.DOM.el.height=this.DOM.el.offsetHeight;var e=this.gl.getUniformLocation(this.program,"uResolution");this.gl.enableVertexAttribArray(e),this.gl.uniform2f(e,this.width,this.height),t?this.gl.viewport(0,this.height/3,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight/2):this.gl.viewport(0,-this.height/5,this.gl.drawingBufferWidth,this.gl.drawingBufferHeight)},s.prototype.blend=function(t,e){this.gl.blendFunc(t,e),this.gl.enable(this.gl.BLEND)},s.prototype.createBufferLine=function(t){this.num=t,this.bufferLine=new Float32Array(2*t)},s.prototype.beginPath=function(){this.k=0},s.prototype.strokeStyle=function(t,e,i){this.gl.uniform3f(this.uHSV,t,e,i)},s.prototype.lineTo=function(t,e){this.bufferLine[this.k++]=t,this.bufferLine[this.k++]=e},s.prototype.stroke=function(){this.gl.bindBuffer(this.gl.ARRAY_BUFFER,this.positionBuffer),this.gl.vertexAttribPointer(this.aPosition,2,this.gl.FLOAT,!1,0,0),this.gl.bufferData(this.gl.ARRAY_BUFFER,this.bufferLine,this.gl.DYNAMIC_DRAW),this.gl.drawArrays(this.gl.LINE_STRIP,0,this.num)},s.prototype.render=function(i){if((e=(t=i)-o)>n){o=t-e%n;for(var s=this.width/100,l=30*s,h=0;h<60;h++){this.beginPath(),this.strokeStyle(r+h/360,.5,.3);for(var c=-50;c<50;c++){var d=a.noise(.05*c,r-.01*h,r);this.lineTo(.5*this.width+.01*(h+180)*c*s*.5,-90+h+.5*this.height+d*l)}this.stroke()}r+=.0025}window.requestAnimationFrame(this.render.bind(this))},s.prototype.animate=function(){i=window.requestAnimationFrame(this.render.bind(this))},s.prototype.Play=function(){i||(this.DOM.el.classList.add("isPlay"),this.animate(),!1)},s.prototype.Pause=function(){i&&(window.cancelAnimationFrame(this.requestId),i=void 0,this.DOM.el.classList.remove("isPlay"))};var a={init:function(){this.p=new Uint8Array(512);for(var t=new Uint8Array(256),e=0;e<256;e++)t[e]=e;for(e=255;e>0;e--){var i=Math.floor((e+1)*Math.random());[t[e],t[i]]=[t[i],t[e]]}for(e=0;e<512;e++)this.p[e]=t[255&e]},fade:function(t){return t*t*t*(t*(6*t-15)+10)},lerp:function(t,e,i){return e+t*(i-e)},grad:function(t,e,i,n){var r=15&t,o=r<8?e:i,s=r<4?i:12==r||14==r?e:n;return(1&r?-o:o)+(2&r?-s:s)},noise:function(t,e,i){var n=255&Math.floor(t),r=255&Math.floor(e),o=255&Math.floor(i),s=t-Math.floor(t),a=e-Math.floor(e),l=i-Math.floor(i),h=this.fade(s),c=this.fade(a),d=this.fade(l),u=this.p[n]+r,f=this.p[u]+o,g=this.p[u+1]+o,p=this.p[n+1]+r,v=this.p[p]+o,m=this.p[p+1]+o;return this.lerp(d,this.lerp(c,this.lerp(h,this.grad(this.p[f],s,a,l),this.grad(this.p[v],s-1,a,l)),this.lerp(h,this.grad(this.p[g],s,a-1,l),this.grad(this.p[m],s-1,a-1,l))),this.lerp(c,this.lerp(h,this.grad(this.p[f+1],s,a,l-1),this.grad(this.p[v+1],s-1,a,l-1)),this.lerp(h,this.grad(this.p[g+1],s,a-1,l-1),this.grad(this.p[m+1],s-1,a-1,l-1))))}};return a.init(),s}(),Patterns=function(){var t,e=document.getElementById("pattern");e.width=window.innerWidth,e.height=window.innerHeight;e.style.width=window.innerWidth+"px",e.style.height=window.innerHeight+"px";var i=e.getContext("webgl"),n=0;function r(t,e){var n=i.createShader(e);if(i.shaderSource(n,t),i.compileShader(n),!i.getShaderParameter(n,i.COMPILE_STATUS))throw"Shader compile failed with: "+i.getShaderInfoLog(n);return n}function o(t,e){var n=i.getUniformLocation(t,e);if(-1===n)throw"Cannot find uniform "+e+".";return n}var s=r("\nattribute vec2 position;\nvoid main() {\n  gl_Position = vec4(position, 0.0, 1.0);\n}\n",i.VERTEX_SHADER),a=r("\n precision mediump float;\n uniform float width;\n uniform float height;\nvec2 resolution = vec2(width, height);\nuniform float time;\nvoid main(){\nfloat strength = 0.5;\nfloat t = time/20.0;\nvec3 col = vec3(0);\nvec2 fC = gl_FragCoord.xy;\nfor(int i = -1; i <= 1; i++) {\n\tfor(int j = -1; j <= 1; j++) {\n\t\tfC = gl_FragCoord.xy+vec2(i,j)/3.0;\n\t\tvec2 pos = fC/resolution.xy;\n\t\tpos.y /= resolution.x/resolution.y;\n\t\tpos = 4.0*(vec2(0.5) - pos);\n\t\tfor(float k = 1.0; k < 7.0; k+=1.0){ \n\t\t\tpos.x += strength * sin(2.0*t+k*1.5 * pos.y)+t*0.5;\n\t\t\tpos.y += strength * cos(2.0*t+k*1.5 * pos.x);\n\t\t}\n\t\tcol += 0.5 + 0.5*cos(time+pos.xyx+vec3(0,2,4));\n\t}\n}\n\ncol /= 5.0;\ncol = pow(col, vec3(0.2));\ngl_FragColor = vec4(col,1.0);\n}\n",i.FRAGMENT_SHADER),l=i.createProgram();i.attachShader(l,s),i.attachShader(l,a),i.linkProgram(l),i.useProgram(l);var h=new Float32Array([-1,1,-1,-1,1,1,1,-1]),c=i.createBuffer();i.bindBuffer(i.ARRAY_BUFFER,c),i.bufferData(i.ARRAY_BUFFER,h,i.STATIC_DRAW);var d=function(t,e){var n=i.getAttribLocation(t,e);if(-1===n)throw"Cannot find attribute "+e+".";return n}(l,"position");i.enableVertexAttribArray(d),i.vertexAttribPointer(d,2,i.FLOAT,!1,8,0);var u=o(l,"time"),f=o(l,"width"),g=o(l,"height");i.uniform1f(f,window.innerWidth),i.uniform1f(g,window.innerHeight);var p,v=Date.now();function m(){Mobile.matches||(p=Date.now(),n+=(p-v)/770,v=p,i.uniform1f(u,n),i.drawArrays(i.TRIANGLE_STRIP,0,4),t=requestAnimationFrame(m))}Patterns.prototype.Play=function(){t||(m(),e.classList.add("show"))},Patterns.prototype.Pause=function(){t&&(cancelAnimationFrame(t),t=void 0,e.classList.remove("show"))},window.addEventListener("resize",(function(){e.width=window.innerWidth,e.height=window.innerHeight,e.style.width=window.innerWidth+"px",e.style.height=window.innerHeight+"px",i.viewport(0,0,e.width,e.height),i.uniform1f(f,window.innerWidth),i.uniform1f(g,window.innerHeight)}),!1),playCanvas.addEventListener("click",(function(t){Pat.Play()})),pauseCanvas.addEventListener("click",(function(t){Pat.Pause()}))};export{scrollStay,Waves,Patterns};